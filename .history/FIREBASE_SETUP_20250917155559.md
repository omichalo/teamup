# Configuration Firebase - SQY Ping Team Up

## üîß Activation de l'authentification Email/Password

### 1. Acc√©der √† la console Firebase
- Aller sur : https://console.firebase.google.com/project/sqyping-teamup/authentication/providers

### 2. Activer Email/Password
1. Cliquer sur **"Email/Password"**
2. Activer le premier bouton **"Email/Password"**
3. Optionnel : Activer **"Email link (passwordless sign-in)"** si souhait√©
4. Cliquer sur **"Save"**

### 3. Tester l'authentification
1. Aller sur http://localhost:3001/auth
2. Utiliser l'onglet **"Inscription"** pour cr√©er un compte
3. Utiliser l'onglet **"Connexion"** pour se connecter

## üîí R√®gles de s√©curit√© Firestore

### R√®gles de d√©veloppement (actuelles)
Les r√®gles actuelles sont permissives pour le d√©veloppement :
- Tous les utilisateurs connect√©s peuvent lire/√©crire dans toutes les collections
- **‚ö†Ô∏è ATTENTION : Ne pas utiliser en production !**

### R√®gles de production
Pour la production, utiliser les r√®gles dans `firestore.prod.rules` :
- Lecture pour tous les utilisateurs connect√©s
- √âcriture r√©serv√©e aux coaches
- V√©rification des r√¥les utilisateur

### D√©ploiement des r√®gles
```bash
# R√®gles de d√©veloppement (actuelles)
firebase deploy --only firestore:rules

# Pour passer en production plus tard
cp firestore.prod.rules firestore.rules
firebase deploy --only firestore:rules
```

## üìä Structure des donn√©es

### Collection `users`
```typescript
{
  email: string;
  displayName: string;
  photoURL?: string;
  role: "coach" | "player";
  playerId?: string;
  createdAt: Date;
  updatedAt: Date;
}
```

### Collections principales
- `players` - Informations des joueurs
- `teams` - √âquipes du club
- `matches` - Matchs programm√©s
- `compositions` - Compositions d'√©quipes
- `availabilities` - Disponibilit√©s des joueurs
- `burnRecords` - Historique des br√ªlages
- `clubSettings` - Param√®tres du club

## üöÄ Prochaines √©tapes

1. **Activer l'authentification Email/Password** dans Firebase
2. **Tester l'inscription/connexion** sur l'application
3. **Configurer les identifiants FFTT** dans `.env.local`
4. **Ajouter des donn√©es de test** (joueurs, √©quipes, etc.)
5. **Tester les fonctionnalit√©s** de l'application

## üîß Variables d'environnement

Fichier `.env.local` :
```env
# Firebase Configuration
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyC9fsfuDqF0jjV8ocgCtqMpcPA-E6pZoNg
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=sqyping-teamup.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=sqyping-teamup
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=sqyping-teamup.firebasestorage.app
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=567392028186
NEXT_PUBLIC_FIREBASE_APP_ID=1:567392028186:web:0fa11cf39ce060931eb3a3

# FFTT API Configuration (√† remplir)
ID_FFTT=your_fftt_id_here
PWD_FFTT=your_fftt_password_here

# Discord Webhooks (optionnel)
DISCORD_WEBHOOK_TEAM1=https://discord.com/api/webhooks/...
DISCORD_WEBHOOK_TEAM2=https://discord.com/api/webhooks/...
DISCORD_WEBHOOK_TEAM3=https://discord.com/api/webhooks/...

# Club Configuration
CLUB_CODE_FFTT=your_club_code_here
CLUB_NAME=SQY Ping
```

## üìû Support

En cas de probl√®me :
1. V√©rifier que l'authentification Email/Password est activ√©e
2. V√©rifier les r√®gles Firestore
3. Consulter les logs Firebase dans la console
4. V√©rifier les variables d'environnement
